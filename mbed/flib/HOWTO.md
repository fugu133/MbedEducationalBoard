# README

## 概要

倒立振子用基板の機能を最低限使用できるようになるライブラリです．  
これをベースに倒立振子を開発するのも良し，自分で一から開発するのも良しです．  

<br>

## 使い方

flibを使うために以下の手順を行う必要があります．

1. flibをプロジェクトディレクトリ直下に置く
2. flib.hをインクルードする
3. 別途初期化が必要になるのでfugu::init()をメインループに入る前にコール

恐らく下記の様なコードになると思います．

~~~C++
#include "mbed.h"
#include "flib/flib.h"

int main() {
    fugu::init();
    while(1) {

    }
}
~~~

本ライブラリは基本的に`fugu`名前空間に記述しています．  
`using namespace fugu`をしてもいいですが，もしかしたら名前衝突するかもしれません．  

予約済みなIOピンはpin.hに定義済みです．  

<br>

## ペリフェラルドライバについて

基板上に置かれたペリフェラルを簡単に扱う為のドライバライブラリです．  
最低限の昨日が実装されています．  

### 1. IMUSensor

IMUセンサであるMPU6050を利用する為のドライバライブラリです．  
加速度[m/s]と角速度[deg/s]を取得出来ます．  

### 2. MotorDriver

2chモータードライバであるDRV8835を1ch操作する為のドライバライブラリです．  
2つインスタンスを作成することで2chフルに扱うことができます．  
動作モードはIN/INモードです．  

### 3. SwitchStatus

正論理，負論理を考慮してスイッチの状態を取得するドライバライブラリです．  
ソフトウェア的にチャタリングイレイズもできます．  

### 4. Tone

ピエゾスピーカーで発音するドライバライブラリです．  
音階指定はMIDIに準拠して行います．  

<br>

## Special Thanks

パワーマネジメントにMichael Wei氏のPowerControlライブラリを使用しています．謝謝茄子！！